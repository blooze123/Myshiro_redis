<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>语音识别</title>
</head>
<link rel="stylesheet" href="/resources/layui/css/layui.css"/>
<script src="/resources/layui/layui.js"></script>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript">
    function voiceBegin(){
        var last="";
        $.ajax({
            type:"post",
            dataType:'text',
            url:"/voice/voiceBegin",
            //关键语句：$('#myform').serialize()获得form表单的id，然后使用serialize()将其转为json格式。
            data:{
                "flag":"true",
            },
            success:function (result){
                alert("开始录音");
            },
            error:function(){
                alert("ERROR");
            }
        })
    }
    function voiceEnd(){
        var last="";
        $.ajax({
            type:"post",
            dataType:'text',
            url:"/voice/voiceEnd",
            //关键语句：$('#myform').serialize()获得form表单的id，然后使用serialize()将其转为json格式。
            data:{
                "flag":"false",
            },
            success:function (result){
                var a=result;
                alert(result);
                $("#showresult").val(a);
            },
            error:function(){
                alert("ERROR");
            }
        })
    }
</script>
<body>
<input type="text" id="showresult" class="showresult">
<input type="button" value="录音" onclick="voiceBegin()">
<input type="button" value="结束录音" onclick="voiceEnd()">
</body>
</html>